<%= form_with model: [:admin, @member], local: true do |f| %>
  <div class="row">
    <div class="col-md-6">
      <%= f.label :name, "氏名" %>
      <%= f.text_field :name, required: true, class: "form-control" %>
    </div>
    <div class="col-md-6">
      <%= f.label :kana, "カナ" %>
      <%= f.text_field :kana, class: "form-control" %>
    </div>
  </div>

  <div class="row mt-2">
    <div class="col-md-6">
      <%= f.label :email %>
      <%= f.email_field :email, required: true, class: "form-control" %>
    </div>
    <div class="col-md-6">
      <%= f.label :phone_number, "電話番号" %>
      <%= f.telephone_field :phone_number, class: "form-control" %>
    </div>
  </div>

  <div class="row mt-2">
    <div class="col-md-4">
      <%= f.label :birthday, "生年月日" %>
      <%= f.date_field :birthday, class: "form-control" %>
    </div>
    <div class="col-md-4">
      <%= f.label :enroll_on, "入会日" %>
      <%= f.date_field :enroll_on, class: "form-control" %>
    </div>
    <div class="col-md-4">
      <%= f.label :next_exam_on, "次回審査日" %>
      <%= f.date_field :next_exam_on, class: "form-control" %>
    </div>
  </div>

  <div class="row mt-2">
    <div class="col-md-6">
      <%= f.label :role, "ステータス" %>
      <%= f.select :role,
       options_for_select(
          Member.roles.keys.map { |k| [t("enums.member.role.#{k}"), k] },
          f.object.role
        ),
        {},
        class: "form-select"
      %>
    </div>
  <div class="col-md-6">
    <%= f.label :rank_id, "段位/級" %>
    <% ranks =
       if defined?(Rank) && Rank.table_exists?
         if Rank.column_names.include?("position")
           Rank.order(:position)
         else
           Rank.order(:name)
         end
       else
         []
       end %>
    <%= f.collection_select :rank_id, ranks, :id, :name, {}, class: "form-control" %>
  </div>

  <div class="mt-2">
    <%= f.label :address, "住所" %>
    <%= f.text_area :address, rows: 2, class: "form-control" %>
  </div>

  <div class="mt-2">
    <div class="form-check">
      <%= f.check_box :privacy_policy_agreed, class: "form-check-input" %>
      <%= f.label :privacy_policy_agreed, "プライバシーポリシー同意", class: "form-check-label" %>
    </div>
  </div>

  <div class="mt-2">
    <%= f.label :notes, "備考" %>
    <%= f.text_area :notes, rows: 3, class: "form-control" %>
  </div>

  <div class="mt-3">
    <%= f.submit "保存", class: "btn btn-primary" %>
    <%= link_to "戻る", admin_members_path, class: "btn btn-secondary" %>
  </div>
<% end %>
