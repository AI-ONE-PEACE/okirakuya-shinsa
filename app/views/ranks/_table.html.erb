<%# expects: ranks %>
<% if ranks.any? %>
  <table class="table table-sm table-striped">
    <thead><tr><th>段位</th><th>メンバー</th></tr></thead>
    <tbody>
      <% ranks.each do |r| %>
        <% names = r.members.order(:name).pluck(:name) %>
        <tr>
          <td class="text-nowrap"><%= r.name %></td>
          <td>
            <% if names.any? %>
              <%= names.join("、") %>
              <span class="badge text-bg-secondary ms-2"><%= names.size %>名</span>
            <% else %>
              <span class="text-body-secondary">該当なし</span>
            <% end %>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>
<% else %>
  <p class="text-body-secondary">段位がありません。</p>
<% end %>
